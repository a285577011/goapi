pid:7997 15:25:24.612559 app.go:50: main: Listening on a new file descriptor.
pid:7997 15:27:21.726046 app.go:91: signal: terminated
pid:7997 15:27:21.726463 app.go:98: stop
pid:7997 15:27:21.726526 app.go:101: graceful shutdown
pid:7997 15:27:21.726533 app.go:64: signal end
pid:13970 17:01:50.348622 app.go:50: main: Listening on a new file descriptor.
redis_conn_fail
redis_conn_fail
redis_conn_fail
redis_conn_fail
redis_conn_fail
redis_conn_fail
redis_conn_fail
redis_conn_fail
pid:13970 17:03:22.869282 app.go:91: signal: terminated
pid:13970 17:03:22.869650 app.go:98: stop
pid:13970 17:03:22.869782 app.go:101: graceful shutdown
pid:13970 17:03:22.870071 app.go:64: signal end
pid:14158 17:04:06.688457 app.go:50: main: Listening on a new file descriptor.
pid:14158 17:04:23.723123 app.go:91: signal: terminated
pid:14158 17:04:23.723687 app.go:98: stop
pid:14158 17:04:23.724811 app.go:101: graceful shutdown
pid:14158 17:04:23.724920 app.go:64: signal end
pid:14217 17:04:40.956034 app.go:50: main: Listening on a new file descriptor.
pid:14217 17:05:50.303581 app.go:91: signal: user defined signal 2
pid:14217 17:05:50.303757 app.go:105: reload
pid:14217 17:05:50.306121 app.go:108: graceful restart error: fork/exec ./goapi: permission denied
pid:14442 17:06:44.936196 app.go:50: main: Listening on a new file descriptor.
12
pid:14442 17:07:21.002094 app.go:91: signal: user defined signal 2
pid:14442 17:07:21.002454 app.go:105: reload
pid:14442 17:07:21.004581 app.go:108: graceful restart error: fork/exec ./goapi: permission denied
nohup: 无法运行命令"./goapi": 没有那个文件或目录
pid:14640 17:07:49.666512 app.go:50: main: Listening on a new file descriptor.
pid:14640 17:08:24.412872 app.go:91: signal: user defined signal 2
pid:14640 17:08:24.413095 app.go:105: reload
pid:14640 17:08:24.424556 app.go:108: graceful restart error: fork/exec ./goapi: permission denied
pid:15025 17:10:09.619703 app.go:50: main: Listening on a new file descriptor.
pid:15025 17:10:14.452784 app.go:91: signal: user defined signal 2
pid:15025 17:10:14.452985 app.go:105: reload
pid:15025 17:10:14.482502 app.go:111: graceful reload
pid:15025 17:10:14.482643 app.go:64: signal end
pid:15044 17:10:14.503463 app.go:44: main: Listening to existing file descriptor 3.
pid:15044 17:10:24.393526 app.go:91: signal: user defined signal 2
pid:15044 17:10:24.393711 app.go:105: reload
pid:15061 17:10:24.399967 app.go:44: main: Listening to existing file descriptor 3.
pid:15044 17:10:24.400209 app.go:111: graceful reload
pid:15044 17:10:24.400291 app.go:64: signal end
pid:15061 17:10:29.309575 app.go:91: signal: user defined signal 2
pid:15061 17:10:29.309771 app.go:105: reload
pid:15061 17:10:29.326807 app.go:111: graceful reload
pid:15061 17:10:29.326908 app.go:64: signal end
pid:15078 17:10:29.346069 app.go:44: main: Listening to existing file descriptor 3.
pid:15078 17:10:42.463811 app.go:91: signal: terminated
pid:15078 17:10:42.464732 app.go:98: stop
pid:15078 17:10:42.465132 app.go:101: graceful shutdown
pid:15078 17:10:42.465391 app.go:64: signal end
pid:15177 17:14:16.423144 app.go:50: main: Listening on a new file descriptor.
pid:15199 17:14:25.853383 app.go:50: main: Listening on a new file descriptor.
pid:15199 17:14:25.853588 app.go:55: listener error: listen tcp :8005: bind: address already in use
pid:15230 17:14:57.737125 app.go:50: main: Listening on a new file descriptor.
pid:15230 17:14:57.737488 app.go:55: listener error: listen tcp :8005: bind: address already in use
pid:15246 17:15:01.792154 app.go:50: main: Listening on a new file descriptor.
pid:15246 17:15:01.792373 app.go:55: listener error: listen tcp :8005: bind: address already in use
pid:15278 17:15:29.262496 app.go:50: main: Listening on a new file descriptor.
pid:15278 17:15:29.262716 app.go:55: listener error: listen tcp :8005: bind: address already in use
pid:15297 17:15:37.592795 app.go:50: main: Listening on a new file descriptor.
pid:15297 17:15:37.593006 app.go:55: listener error: listen tcp :8005: bind: address already in use
pid:15177 17:19:26.327513 app.go:91: signal: user defined signal 2
pid:15177 17:19:26.327756 app.go:105: reload
pid:15177 17:19:26.342376 app.go:111: graceful reload
pid:15177 17:19:26.342396 app.go:64: signal end
pid:15409 17:19:26.368075 app.go:44: main: Listening to existing file descriptor 3.
[mysql] 2017/07/17 17:27:14 packets.go:36: unexpected EOF
pid:15409 17:28:36.129293 app.go:91: signal: user defined signal 2
pid:15409 17:28:36.150998 app.go:105: reload
pid:15409 17:28:36.190140 app.go:111: graceful reload
pid:15409 17:28:36.190158 app.go:64: signal end
unexpected fault address 0x9bc6b0
fatal error: fault
[signal SIGSEGV: segmentation violation code=0x2 addr=0x9bc6b0 pc=0x9bc6b0]

goroutine 1 [running]:
runtime.throw(0x7de692, 0x5)
	/usr/local/go/src/runtime/panic.go:596 +0x95 fp=0xc42004ff28 sp=0xc42004ff08
runtime.sigpanic()
	/usr/local/go/src/runtime/signal_unix.go:297 +0x28c fp=0xc42004ff78 sp=0xc42004ff28

goroutine 17 [syscall, locked to thread]:
runtime.goexit()
	/usr/local/go/src/runtime/asm_amd64.s:2197 +0x1

goroutine 5 [syscall]:
os/signal.signal_recv(0x9712c0)
	/usr/local/go/src/runtime/sigqueue.go:116 +0x104
os/signal.loop()
	/usr/local/go/src/os/signal/signal_unix.go:22 +0x22
created by os/signal.init.1
	/usr/local/go/src/os/signal/signal_unix.go:28 +0x41

goroutine 6 [runnable]:
net.runtime_pollWait(0x7f85af757fa8, 0x72, 0x96f080)
	/usr/local/go/src/runtime/netpoll.go:164 +0x59
net.(*pollDesc).wait(0xc42001e8b8, 0x72, 0x96b570, 0xc4201089e0)
	/usr/local/go/src/net/fd_poll_runtime.go:75 +0x38
net.(*pollDesc).waitRead(0xc42001e8b8, 0xffffffffffffffff, 0x0)
	/usr/local/go/src/net/fd_poll_runtime.go:80 +0x34
net.(*netFD).accept(0xc42001e850, 0x0, 0x96dbc0, 0xc4201089e0)
	/usr/local/go/src/net/fd_unix.go:430 +0x1e5
net.(*TCPListener).accept(0xc42000e110, 0xc42002e6b0, 0x65545e, 0x453050)
	/usr/local/go/src/net/tcpsock_posix.go:136 +0x2e
net.(*TCPListener).Accept(0xc42000e110, 0x7f3a58, 0xc420078be0, 0x972700, 0xc4200ddad0)
	/usr/local/go/src/net/tcpsock.go:228 +0x49
net/http.(*Server).Serve(0xc4200e8c60, 0x971dc0, 0xc42000e110, 0x0, 0x0)
	/usr/local/go/src/net/http/server.go:2643 +0x228
app/api/core.(*App).Run.func1(0xc4200e66d0)
	/mnt/hgfs/centosshare/golang/src/app/api/core/app.go:60 +0x49
created by app/api/core.(*App).Run
	/mnt/hgfs/centosshare/golang/src/app/api/core/app.go:62 +0x295

goroutine 7 [select, locked to thread]:
runtime.gopark(0x7f4018, 0x0, 0x7deb27, 0x6, 0x18, 0x2)
	/usr/local/go/src/runtime/proc.go:271 +0x13a
runtime.selectgoImpl(0xc42003ff50, 0x0, 0x18)
	/usr/local/go/src/runtime/select.go:423 +0x1364
runtime.selectgo(0xc42003ff50)
	/usr/local/go/src/runtime/select.go:238 +0x1c
runtime.ensureSigM.func1()
	/usr/local/go/src/runtime/signal_unix.go:434 +0x2dd
runtime.goexit()
	/usr/local/go/src/runtime/asm_amd64.s:2197 +0x1

goroutine 15 [runnable]:
net.runtime_pollWait(0x7f85af757ee8, 0x72, 0x6)
	/usr/local/go/src/runtime/netpoll.go:164 +0x59
net.(*pollDesc).wait(0xc42001ed88, 0x72, 0x96f080, 0x96b570)
	/usr/local/go/src/net/fd_poll_runtime.go:75 +0x38
net.(*pollDesc).waitRead(0xc42001ed88, 0xc4200d3000, 0x1000)
	/usr/local/go/src/net/fd_poll_runtime.go:80 +0x34
net.(*netFD).Read(0xc42001ed20, 0xc4200d3000, 0x1000, 0x1000, 0x0, 0x96f080, 0x96b570)
	/usr/local/go/src/net/fd_unix.go:250 +0x1b7
net.(*conn).Read(0xc42000e228, 0xc4200d3000, 0x1000, 0x1000, 0x0, 0x0, 0x0)
	/usr/local/go/src/net/net.go:181 +0x70
net/http.(*connReader).Read(0xc420106340, 0xc4200d3000, 0x1000, 0x1000, 0x96b272, 0x2, 0x6)
	/usr/local/go/src/net/http/server.go:754 +0x140
bufio.(*Reader).fill(0xc42005af60)
	/usr/local/go/src/bufio/bufio.go:97 +0x117
bufio.(*Reader).ReadSlice(0xc42005af60, 0x120a, 0x1297, 0x0, 0x0, 0x75ab60, 0xc42011c068)
	/usr/local/go/src/bufio/bufio.go:338 +0xbb
bufio.(*Reader).ReadLine(0xc42005af60, 0xc42000ad00, 0x100, 0xf8, 0x7d3a40, 0xa, 0x469af2)
	/usr/local/go/src/bufio/bufio.go:367 +0x37
net/textproto.(*Reader).readLineSlice(0xc4200faa80, 0xc420051ac8, 0xc420051ac8, 0x410b28, 0x100, 0x7d3a40)
	/usr/local/go/src/net/textproto/reader.go:55 +0x5f
net/textproto.(*Reader).ReadLine(0xc4200faa80, 0xc42000ad00, 0x72, 0x8000000000000000, 0x0)
	/usr/local/go/src/net/textproto/reader.go:36 +0x2f
net/http.readRequest(0xc42005af60, 0x0, 0xc42000ad00, 0x0, 0x0)
	/usr/local/go/src/net/http/request.go:918 +0xa5
net/http.(*conn).readRequest(0xc420078be0, 0x972640, 0xc420106300, 0x0, 0x0, 0x0)
	/usr/local/go/src/net/http/server.go:934 +0x213
net/http.(*conn).serve(0xc420078be0, 0x972640, 0xc420106300)
	/usr/local/go/src/net/http/server.go:1763 +0x49a
created by net/http.(*Server).Serve
	/usr/local/go/src/net/http/server.go:2668 +0x2ce

goroutine 10 [chan receive]:
database/sql.(*DB).connectionOpener(0xc420078960)
	/usr/local/go/src/database/sql/sql.go:837 +0x4a
created by database/sql.Open
	/usr/local/go/src/database/sql/sql.go:582 +0x212

goroutine 18 [select]:
app/vendor/github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher.func1(0xc42005b920, 0xc4200ba3c0, 0xc42005b980)
	/mnt/hgfs/centosshare/golang/src/app/vendor/github.com/go-sql-driver/mysql/connection_go18.go:189 +0x288
created by app/vendor/github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher
	/mnt/hgfs/centosshare/golang/src/app/vendor/github.com/go-sql-driver/mysql/connection_go18.go:203 +0xd3
pid:15641 17:28:36.238560 app.go:44: main: Listening to existing file descriptor 3.
pid:9498 15:48:48.504564 app.go:51: main: Listening on a new file descriptor.
pid:9498 15:48:53.156579 app.go:93: signal: user defined signal 2
pid:9498 15:48:53.156749 app.go:107: reload
[./goapi /dev/null]
pid:9515 15:48:53.163787 app.go:45: main: Listening to existing file descriptor 3.
pid:9498 15:48:53.164072 app.go:113: graceful reload
pid:9498 15:48:53.164165 app.go:65: signal end
pid:9515 15:49:11.789993 app.go:93: signal: user defined signal 2
pid:9515 15:49:11.790016 app.go:107: reload
[./goapi -graceful]
pid:9515 15:49:11.791728 app.go:113: graceful reload
pid:9515 15:49:11.791738 app.go:65: signal end
pid:9552 15:49:11.800777 app.go:45: main: Listening to existing file descriptor 3.
pid:9552 15:51:01.019908 app.go:93: signal: terminated
pid:9552 15:51:01.020175 app.go:100: stop
pid:9552 15:51:01.020233 app.go:103: graceful shutdown
pid:9552 15:51:01.020239 app.go:65: signal end
